id,task,owner,status,priority,completion_date,notes,artifacts,verification_commands
DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,"Spec: SYSTEM_SPEC §1.1. Artifacts derive strictly from spec; no code changes.",docs/SYSTEM_SPEC.md,"Manual review: confirm no code/migrations/deploys"
SPEC-001,Fill in Auth Flows details (login/refresh/logout) to match implementation,docs,done,P0,2026-02-10,"Spec: SYSTEM_SPEC §3.1. Replace placeholders with authoritative behavior (no code changes). Aligned §3.1 auth flows to implementation. Merged PR #42 (038bff3e) at 2026-02-10T07:15:06Z",docs/SYSTEM_SPEC.md,"Doc review: confirm matches current behavior"
SPEC-002,Fill in CSRF policy details (token source/cookie/header/protected endpoints),docs,done,P0,2026-02-12,"Spec: SYSTEM_SPEC §3.2 (see SECURITY_CSRF). Must be canonical + precise.",docs/SECURITY_CSRF.md,"Doc review: validate against SECURITY_CSRF.md"
SPEC-003,Define Session Guarantees and non-guarantees,docs,done,P1,2026-02-19,"Spec: SYSTEM_SPEC §3.3. Already fully specified: token lifecycle (HS256 access, opaque refresh, HMAC CSRF), TTLs (access 7d, refresh 7d, CSRF 1h), rotation, logout, persistence, server-side session model, non-guarantees (§3.3.2).",docs/SYSTEM_SPEC.md,"Doc review"
SPEC-004,Define Frozen vs Flexible areas in spec,docs,done,P1,2026-02-19,"Spec: SYSTEM_SPEC §3.4. Already fully specified: frozen items (auth contract, CSRF header/cookie, migration approval, per-request audit, SPA fallback), flexible areas (token TTLs, rate limits, deny list backend, session cleanup, OAuth config, error messages).",docs/SYSTEM_SPEC.md,"Doc review"
SPEC-005,Define Testing determinism requirements (time/email/rate-limiting),docs,done,P1,2026-02-20,"Spec: SYSTEM_SPEC §5.1. Fully specified: time frozen via _auth_rate_limiter_determinism fixture, email via _DummySMTP/_email_sink, rate-limit via memory backend + autouse reset, external services mocked, SQLite disposable DB.",docs/SYSTEM_SPEC.md,"Doc review"
SPEC-006,Define 'green CI' guarantees + mocking boundaries,docs,done,P1,2026-02-20,"Spec: SYSTEM_SPEC §5.2. Fully specified: green CI definition (6 checks), explicit guarantees and non-guarantees, allowed mocks (SMTP/rate-limiter/OpenAI/reCAPTCHA), forbidden mocks (auth endpoints/CSRF/DB/JWT).",docs/SYSTEM_SPEC.md,"Doc review"
SPEC-007,Define development rules (branching/merge/commit discipline),docs,done,P2,2026-02-20,"Spec: SYSTEM_SPEC §6.1. Fully specified: branch prefixes (wo/feature/fix/chore), merge rules (PR required, squash-merge default, no force-push), commit discipline (imperative tense, WO reference).",docs/SYSTEM_SPEC.md,"Doc review"
SPEC-008,Define deployment rules (approvals/rollback expectations),docs,done,P1,2026-02-20,"Spec: SYSTEM_SPEC §6.2. Fully specified: deploy triggers (staging/prod/Docker Hub), approval requirements, 7-step pipeline, rollback via heroku rollback + manual Alembic downgrade.",docs/SYSTEM_SPEC.md,"Doc review"
SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,done,P0,2026-02-12,"Defined migration rules: approvals required; no implicit migrations; staging-only unless explicitly approved.",docs/SYSTEM_SPEC.md,"Doc review"
SPEC-010,Define roadmap unlock criteria (NEXT-003 + production launch),docs,done,P2,2026-02-03,"Spec: SYSTEM_SPEC §7.2 and §4.4. Clarify what unlocks future work without implementing it.",docs/SYSTEM_SPEC.md,"Doc review"
SPEC-011,Define change control process (who may edit/review/versioning),docs,done,P1,2026-02-20,"Spec: SYSTEM_SPEC §8.1. Fully specified: edit authority (owner final, AI may propose via PR), 5-step review process, frozen/flexible/deferred classification, versioning tracks VERSION file.",docs/SYSTEM_SPEC.md,"Doc review"
MVP-ROUTES-001,Publish MVP pages & routes checklist (no code scaffolding),docs,done,P0,2026-02-19,"Spec: SYSTEM_SPEC §2.5. Full audit: 72 routes catalogued (42 implemented, 14 scaffold, 16 redirects). Canonical auth, onboarding, app pages all documented with real component paths.",docs/MVP_PAGES_AND_ROUTES.md,"Doc review: checklist matches §2.5 exactly"
MVP-ROUTES-002,Define onboarding gate rules (cannot skip onboarding),docs,done,P0,2026-02-19,"Spec: SYSTEM_SPEC §2.5.7 (lines 166-177). Already normative: linear flow enforced, no skip, App routes redirect to onboarding, gate applies to deep links. Implemented in RequireOnboarding.tsx guard.",docs/SYSTEM_SPEC.md,"Doc review"
DB-001,Establish Postgres MVP data scope as system-of-record,docs,done,P0,2026-01-06,"Spec: SYSTEM_SPEC §2.6. Scope and exclusions are authoritative.",docs/SYSTEM_SPEC.md,"Doc review"
DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,done,P0,2026-02-19,"Spec: SYSTEM_SPEC §2.6.3 and §6.3. Playbook verified against current implementation: 32 migration files, RUN_DB_MIGRATIONS_ON_STARTUP=False default, Make targets documented.",docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,"Doc review"
DB-003,Document DB observability/maintenance expectations (health/logging/backups/local reset),docs,done,P1,2026-02-13,"Spec: SYSTEM_SPEC §2.6.5. Expanded with health endpoints, pool config, logging, backup/restore, local reset, Heroku ops.",docs/SYSTEM_SPEC.md,"Doc review"
NEXT-003,Execute PayFast production transaction,management,done,P0,2026-02-19,"Full production payments flow deployed: plans API, subscription CRUD, invoice listing, PricingPage, plan ID alignment (free/pro/enterprise). PayFast checkout at /api/payments/payfast/checkout. Credentials to be configured.",backend/src/modules/payments/router.py,"curl /api/payments/plans"
PAY-INTENT-001,Maintain payments intent-only scope (no implementation in MVP),management,done,P0,2026-01-06,"Spec: SYSTEM_SPEC §4 (Intent Only). Ensure plans/playbooks do not introduce execution work.",docs/SYSTEM_SPEC.md,"Doc review"
GOV-001,Publish auth changes playbook (guardrails for auth/csrf edits),docs,done,P0,2026-02-19,"Spec: SYSTEM_SPEC §3 and §8. Playbook published and updated with OAuth section (Google/LinkedIn), CSRF discrepancy note, OAuth change checklist.",docs/playbooks/PLAYBOOK_AUTH_CHANGES.md,"Doc review"
GOV-002,Publish release & deploy playbook (deploy rules + rollback),docs,done,P1,2026-02-13,"Spec: SYSTEM_SPEC §6.2 and §6.3. Full playbook: environments, procedures, safety mechanisms, rollback, audit trail.",docs/playbooks/PLAYBOOK_RELEASE_AND_DEPLOY.md,"Doc review"
GOV-003,Perform management freeze review and publish results,management,done,P0,2026-02-19,"Spec: SYSTEM_SPEC §3.4, §2.5, §2.6, §4.4. Full refresh: NEXT-003 unblocked (in-progress), OAuth evidence, CSRF discrepancy noted, dual onboarding risk, 5 risks documented.",docs/FREEZE_REVIEW.md,"Doc review: confirmations present"
ROUTING-SPA-API-001,Fix SPA fallback intercepting /api and /sw.js (autorisen),engineering,done,P0,2026-02-09,"Spec: SYSTEM_SPEC §2.5 (routing) and §6.2. Route order keeps /api and /sw.js out of SPA fallback.","docs/evidence/ROUTING-SPA-API-001/2026-02-09/deploy-verification.md; branch=wo/routing-spa-api-001; commit=a6fb9b3d","./.venv/bin/python -m pytest -q; npm -C client ci; npm -C client run build; curl /api/version /sw.js"
CHORE-REPO-001,Update ignore files for repo hygiene,engineering,done,P2,2026-02-10,"Spec: SYSTEM_SPEC §6.1. Keep repo hygiene consistent and reduce accidental commits.",".gitignore; .dockerignore","rg -n ""ship_autorisen_|node_modules|__pycache__|\\.venv"" .gitignore; sed -n '1,200p' .dockerignore"
CI-DOCKER-001,Add manual Docker Hub publish workflow,engineering,done,P2,2026-02-10,"Spec: SYSTEM_SPEC §6.2. Manual workflow only; no deploy coupling.",".github/workflows/dockerhub-publish.yml","rg -n ""workflow_dispatch"" .github/workflows/dockerhub-publish.yml"
DOC-OPS-DOCKER-001,Update Docker Hub repo General page metadata,ops,done,P2,2026-02-10,"Spec: SYSTEM_SPEC §6.2. Ensure repo metadata is current and aligned. General page updated; visibility private.","Docker Hub repo settings","Manual check: short description, full description, links, visibility, tags"
WO-OPS-REPO-HYGIENE-001,Repo hygiene: declutter autorisen (gitignore + cleanup tools + evidence policy) + clean docs/project-plan.csv formatting,VS_Chat,done,P0,2026-02-19,"Consolidated .gitignore (408→315 lines, 37 dupes removed). Enhanced scripts/clean.sh (flags: --dry-run/--python/--node/--branches/--all). Updated docs/REPO_HYGIENE.md with policy + metrics. Removed tracked package-lock.json. Pruned 15 stale merged branches. Repo audit: 659MB total (tracked content lean; .git/venv/node_modules are bulk).","docs/REPO_HYGIENE.md; scripts/clean.sh; .gitignore","git status -sb; ./scripts/clean.sh --dry-run"
WO-DASH-PROJECT-STATUS-VAL-001,Dashboard: project status returns non-null value,VS_Chat,done,P0,2026-02-19,"PR #51 code merged to main (endpoint /projects/status active). Backend returns non-null value with ProjectStatusSummary schema. Frontend ProjectStatusModule renders value badge. Dashboard widget work (FEAT-DASH-WELCOME-001) further improved dashboard.",docs/evidence/WO-DASH-PROJECT-STATUS-VAL-001/,"./.venv/bin/python -m pytest -q; pnpm -C client install --frozen-lockfile; pnpm -C client run build"
FEAT-AGENTS-001,Create 4 AI agent modules (code-review/security-scan/perf-opt/doc-gen) + wire into router,engineering,done,P0,2026-02-18,"Added CodeReviewAgent, SecurityScanAgent, PerformanceOptAgent, DocGenAgent under backend/src/modules/agents/. Wired into app factory and agent executor. Commit b2eeb38a.","backend/src/modules/agents/{code_review,security_scan,performance_opt,doc_gen}/","curl /api/agents/list"
FEAT-PAY-ALIGN-001,Align payment plans to Free/Pro/Enterprise with ZAR pricing,engineering,done,P0,2026-02-19,"DB constraint aligned: starter→free, growth→pro. Migration 20260219_plan_align. PricingPage created at /app/pricing. Pro R529/mo, Enterprise R1799/mo. Commit ba660ecd.",client/src/pages/app/PricingPage.tsx,"curl /api/payments/plans"
FEAT-LANDING-001,Fix landing page CTAs and feature promises,engineering,done,P1,2026-02-18,"Updated Home.tsx feature sections and CTA buttons to match actual platform capabilities. Commit b2eeb38a.",client/src/pages/Home.tsx,"Manual review: landing page content matches features"
FEAT-OAUTH-001,Activate Google and LinkedIn OAuth login (end-to-end),engineering,done,P0,2026-02-18,"Implemented real code exchange for Google/LinkedIn (were 501 stubs). Created GCP OAuth client. Fixed 4 sub-issues: callback URL paths, cookie domain mismatch (HMAC-signed state), reCAPTCHA survival, redirect_uri mismatch. Commits 91b7f021 + 3bb4dbef + 30e209eb + 0fdcecfc.","backend/src/modules/auth/router.py; client/src/pages/auth/LoginPage.tsx; client/src/pages/auth/SocialCallbackPage.tsx","curl /api/auth/oauth/google/start; curl /api/auth/oauth/linkedin/start"
FEAT-DASH-WELCOME-001,Wire dashboard WelcomeHeader to live API data,engineering,done,P0,2026-02-18,"WelcomeHeader now displays real user name, plan tier, and account status from /api/auth/me endpoint. Commit 1941e9d9.",client/src/components/dashboard/WelcomeHeader.tsx,"curl /api/auth/me (authenticated)"
FEAT-ONBOARD-PROFILE-001,Onboarding profile page: dark theme + pre-fill from OAuth + optional fields,engineering,done,P1,2026-02-19,"Rewrote Profile.tsx with dark theme (bg-slate-900), white text, pre-fills name/email from auth context, email read-only, all fields optional. Commit 9c4b42bc.",client/src/pages/onboarding/Profile.tsx,"Manual review: onboarding profile page"
FEAT-TRIAL-BTN-001,Smart trial button: check auth status before redirect,engineering,done,P1,2026-02-19,"Trial buttons (3 instances) now redirect to /dashboard when authenticated or /auth/register when not. Button text updates dynamically. Commit 2924c83a.","client/src/pages/Home.tsx; client/src/components/HomePage.tsx","Manual review: trial button behavior when logged in vs out"
FEAT-LOGIN-NOTIFY-001,Send login email notification for all providers (Google/LinkedIn/email),engineering,done,P0,2026-02-19,"send_login_notification was only called for email/password login. Added to Google and LinkedIn login endpoints via BackgroundTasks. All notifications go to capecontrol.app@gmail.com. Commit 2924c83a.",backend/src/modules/auth/router.py,"Login via Google/LinkedIn and verify email received"
FIX-DDOS-OAUTH-001,Exempt OAuth callbacks from DDoS burst detection,engineering,done,P1,2026-02-18,"OAuth flow triggered burst attack detection. Exempted /api/auth/oauth/*/callback paths. Raised burst limit 30→50. Commit 0fdcecfc.",app/middleware/ddos_protection.py,"Login via OAuth without 429 errors"
FIX-DASH-PREVIEW-001,Fix dashboard stuck in read-only preview mode,engineering,done,P0,2026-02-19,"Onboarding Welcome set cc_preview_mode in localStorage but never cleared it. Dashboard now clears preview mode when user is authenticated. Also added SPA fallback blocking for .php/.asp/.env probe requests (return 404 instead of 200). Commit b1ff94a1.","client/src/pages/app/DashboardPage.tsx; backend/src/app.py","Login and visit /app/dashboard (should not show read-only)"
FIX-SCAFFOLD-REDIRECT-001,Replace scaffold route stubs with Navigate redirects and real LogoutAction,engineering,done,P1,2026-02-19,"Replaced 8 auth/settings scaffold routes with <Navigate> redirects to canonical routes. Added LogoutAction component using useAuth().logout(). Removed unused RequireMvpGuest/RequireMvpAuth imports. Kept 4 content-only stubs (MvpAbout/MvpDocs/MvpHelp/MvpKnowledgeBase). Commit a6de8453.",client/src/App.tsx,"Visit /login → should redirect to /auth/login; visit /logout → should sign out"
FEAT-PAYMENTS-FLAG-001,Enable payments feature flag by default (opt-out pattern),engineering,done,P1,2026-02-19,"Changed payments flag from opt-in (=== true) to opt-out (!== false) matching dashboardV2 pattern. Billing/checkout routes now visible by default. Commit a6de8453.","client/src/config/features.ts; client/.env.example","Visit /app/billing — should render without setting env var"
GOV-FREEZE-UPDATE-001,Update FREEZE_REVIEW §3.3 and §3.4 from PLACEHOLDER to FROZEN,docs,done,P2,2026-02-19,"Marked §3.3 Session Guarantees and §3.4 Frozen vs Flexible as FROZEN with evidence references. Removed from Frozen-but-Incomplete table. Commit a6de8453.",docs/FREEZE_REVIEW.md,"Doc review: verify §3.3 and §3.4 show FROZEN status"
FEAT-DASHBOARD-OVERHAUL-001,Dashboard overhaul with AppShell sidebar and mobile bottom nav,engineering,done,P1,2026-02-19,"Created shared AppShell layout with collapsible sidebar and mobile bottom nav. Redesigned DashboardPage with 12-col grid, gradient stat cards, circular SVG gauges, activity feed timeline. Added QuickActionsCard, UsageProgressCard, ActivityFeedCard widgets. Updated SettingsPage with mobile pill tabs. Dark mode throughout. Commit e9a82cdb.","client/src/components/layout/AppShell.tsx; client/src/pages/app/DashboardPage.tsx; client/src/components/dashboard/","Visit /app → verify sidebar nav, stat cards, mobile bottom bar"
BP-RAG-001,Design and implement controlled RAG pipeline (approved-doc-only retrieval),engineering,done,P0,2026-02-24,"Business Plan fast-track. Document ingestion + embedding + vector search for approved business docs. Source provenance on every retrieval. Ref: CapeControl_Business_Plan_v2.md §Product.",backend/src/modules/rag/,"pytest tests_enabled/ -q; curl /api/rag/health"
BP-RAG-002,Implement evidence output layer (citations + source trace + timestamps),engineering,done,P0,2026-02-24,"Business Plan fast-track. AI responses must include citation references, source doc trace, timestamps, actor identity. Depends on BP-RAG-001. Ref: CapeControl_Business_Plan_v2.md §Product.",backend/src/modules/rag/evidence.py,"pytest tests_enabled/ -q"
BP-RAG-003,Implement unsupported policy enforcement (refuse ungrounded answers),engineering,done,P0,2026-02-24,"Business Plan fast-track. When RAG retrieval returns no approved-doc match, response must be flagged or refused. Depends on BP-RAG-002. Ref: CapeControl_Business_Plan_v2.md §Product.",backend/src/modules/rag/policy.py,"pytest tests_enabled/ -q"
BP-CAPSULE-001,Design and implement workflow capsule engine,engineering,done,P1,2026-02-24,"Business Plan fast-track. Templated workflow execution: SOP answering, audit summaries, clause finding. Capsules are composable run templates. Ref: CapeControl_Business_Plan_v2.md §Product.",backend/src/modules/capsules/,"pytest tests_enabled/ -q; curl /api/capsules/list"
BP-TENANT-001,Implement tenant isolation and granular RBAC,engineering,done,P1,2026-02-24,"Business Plan fast-track. Resource-level permissions, tenant data boundaries, permission tables beyond current 3-role gating. Ref: CapeControl_Business_Plan_v2.md §Technical Readiness.",backend/src/modules/auth/permissions.py,"pytest tests_enabled/ -q"
BP-AUDIT-001,Implement audit export and evidence pack generation,engineering,done,P1,2026-02-24,"Business Plan fast-track. Exportable evidence packs (PDF/JSON) for compliance review. Aggregates login audit, tool audit, RAG citations. Depends on BP-RAG-002. Ref: CapeControl_Business_Plan_v2.md §Product.",backend/src/modules/audit/,"curl /api/audit/export"
BP-STRIPE-001,Integrate Stripe for international payment rails,engineering,todo,P2,,"Business Plan fast-track (Q3 2026). PayFast handles ZAR; Stripe needed for USD/EUR/GBP international buyers. Ref: CapeControl_Business_Plan_v2.md §Product.",backend/src/modules/payments/stripe.py,"pytest tests_enabled/ -q"
BP-BETA-001,Launch closed beta with 10–20 compliance-heavy SMBs,management,done,P0,2026-02-24,"Business Plan fast-track. Beta gating infrastructure: BetaInvite model, beta_service.py, admin endpoints, registration gating, invite email template, pilot playbook. Ref: CapeControl_Business_Plan_v2.md §Milestones (Month 3).",docs/playbooks/BETA_PILOT_PLAYBOOK.md,"Manual: confirm 10+ active pilot users"
BP-MONITOR-001,Implement monitoring and alerting infrastructure (runbooks + backups),engineering,done,P1,2026-02-24,"Business Plan fast-track. Production observability: error alerting, uptime monitoring, automated backups, runbook documentation. Ref: CapeControl_Business_Plan_v2.md §Technical Readiness.",docs/playbooks/PLAYBOOK_MONITORING.md,"curl /api/health"
BP-SECURITY-DOC-001,Publish security posture documentation for buyer due diligence,docs,done,P1,2026-02-24,"Business Plan fast-track. Security whitepaper covering auth architecture, data handling, encryption, access controls (for regulated SMB buyer evaluation). Ref: CapeControl_Business_Plan_v2.md §Technical Readiness.",docs/SECURITY_POSTURE.md,"Doc review"
BP-DOCS-ALIGN-001,Audit and align docs/agents.md with actual codebase,docs,done,P2,2026-02-24,"Business Plan fast-track. Remove references to non-existent middleware agents. Align claimed features with actual module inventory. Ref: CapeControl_Business_Plan_v2.md §Risks.",docs/agents.md,"Doc review: every file referenced in agents.md exists"
