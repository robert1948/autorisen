docs/autorisen_mirror_report_2026-01-03.md:49:- Disabled auto-migrations on boot:
docs/autorisen_mirror_report_2026-01-03.md:59:Planned: schema-only (migrations) on autorisen without restoring production data.
docs/MASTER_PROJECT_PLAN.csv:24:CHAT-002,Agent registry schema,backend,completed,P0,2025-11-08,Agent + version schema,backend/migrations/*,pytest registry tests
docs/MASTER_PROJECT_PLAN.csv:35:PAY-004,Payments DB schema,backend,todo,P0,,Transactions + invoices tables,backend/migrations/*,alembic upgrade
docs/senior_devops.md:43:* Operational and emergency playbook for CI/infra tasks: validate OIDC, run secrets sync, run the live audit, and prepare the minimal ECS migration skeleton.
docs/senior_devops.md:121:* **Immediate:** Stop/hold any running AWS test resources. Use Heroku for active testing until migration is ready.
docs/senior_devops.md:143:* Finalize migration plan for ECS (minimal: cluster + single task) with cost estimates and a rollback plan (owner: infra lead).
docs/autorisen_project_plan.csv.old:34:FOUND-001,foundation,Database schema design and implementation,backend,completed,P0,,8,2024-01-15,app/models.py|app/database.py,python app/main.py --check-db,Core user/audit/alert models with PostgreSQL,"Focus on SQLAlchemy models, use Alembic for migrations, ensure proper foreign key relationships"
docs/autorisen_project_plan.csv.old:39:FOUND-006,foundation,Heroku deployment configuration,devops,completed,P0,FOUND-005,6,2024-01-30,heroku.yml|Procfile,heroku logs --tail,Automated deployment with environment management,"Configure release phase for migrations, use Heroku Config Vars for environment settings"
docs/autorisen_project_plan.csv.old:58:PAY-005,payments,Billing dashboard and invoice management,frontend,todo,P2,PAY-002,10,,client/src/components/Billing/,npm run build,Customer billing portal with invoice history,"Implement invoice display, payment method management, subscription upgrade/downgrade flows"
docs/autorisen_project_plan.csv.old:63:OPT-001,optimization,Database query optimization and indexing,backend,todo,P1,FOUND-001,8,,migrations/add_indexes.sql,python -c "import app.database; app.database.analyze_queries()",Improve response times for large datasets,"Use EXPLAIN ANALYZE to identify slow queries, add appropriate indexes, implement query result caching"
docs/HEROKU_DEPLOYMENT_SUMMARY_251109.md:23:- **Database:** โ Connected (with admin role migration)
docs/SYSTEM_SPEC.md:211:- All schema changes are managed via migrations (Alembic).
docs/SYSTEM_SPEC.md:216:- No migrations are run without explicit approval (management gate).
docs/SYSTEM_SPEC.md:218:- Every migration must be reversible where feasible (downgrade guidance).
docs/SYSTEM_SPEC.md:397:- When migrations are allowed
docs/SYSTEM_SPEC.md:432:   - There is a clear rollback path for the release (container rollback/release rollback procedure), and it is feasible without data migrations.
docs/SYSTEM_SPEC.md:462:- If an unlock would introduce new scope, migrations, or production release requirements, it MUST be handled under a separate approved Work Order and gate review.
docs/PROJECT_PLAYBOOK_TRACKER.md:27:| DEVOPS-004 | Database migrations | devops | P1 | โ Completed | 2025-11-07 |
docs/FREEZE_REVIEW.md:13:| ยง2.6 Data & PostgreSQL | FROZEN | Authoritative MVP data scope and migration guardrails. |
docs/FREEZE_REVIEW.md:17:| ยง6 Operational Guardrails | FROZEN | Deployment/migration separation and approvals are enforced. |
docs/codex-tasks/task-002-payment-frontend.md:16:- โ Database migrations applied (invoices, transactions, payment_methods)
docs/codex-tasks/task-002-payment-frontend.md:361:- โ Payment database migration
docs/task-capsules.yaml:126:    - "Ensure that required config and migrations are still included."
docs/DEPLOYMENT_GUIDE.md:77:- Automatic migrations on deployment
docs/quick-reference.md:91:# Run migrations on staging
docs/quick-reference.md:92:heroku run --app autorisen "alembic upgrade head"
docs/quick-reference.md:94:# Run migrations on production
docs/quick-reference.md:95:heroku run --app capecraft "alembic upgrade head"
docs/PYTHON_LINTING_SUMMARY.md:84:- **Excluded directories**: `.venv`, `node_modules`, `dist`, `build`, `migrations`
docs/Master_ProjectPlan_Updated_Nov2025.md:16:- **Database:** PostgreSQL with Alembic migrations
docs/Master_ProjectPlan_Updated_Nov2025.md:68:- **Database:** PostgreSQL with migration system (minor linting warnings present)
docs/Master_ProjectPlan_Updated_Nov2025.md:131:| R3 | Database migration failures | High | Low | Backup procedures, rollback planning, staging validation |
docs/Checklist_MVP.md:32:- 2025-10-20 โ AUTH-005 security tests still timing out under SQLite; migration 202502191200 patched for CURRENT_TIMESTAMP, next step is finishing the CSRF/AsyncClient fixture refactor before FE-004 can resume.
docs/Master_ProjectPlan.md:26:  - Maintain existing Heroku platform while we assess an ECS migration path.
docs/Master_ProjectPlan.md:172:| SPEC-009 | Define migration rules (approvals required; no implicit migrations) | docs | planned | P0 |  |
docs/Master_ProjectPlan.md:178:| DB-002 | Publish DB migrations playbook (approval gate; no manual prod changes) | docs | planned | P0 |  |
docs/registration.md:28:Create and activate a virtualenv, install dependencies, and run migrations from the repository root:
docs/registration.md:34:python -m alembic -c backend/alembic.ini upgrade head
docs/PROJECT_UPDATE_251109.md:80:- โ Database migrations and constraint validation
docs/PROJECT_UPDATE_251109.md:132:- โ Database migrations automated
docs/diagrams/Freemind_Onboarding_Path_DB_v2.mm:1:<map version="0.7.1"><node ID="1" TEXT="Onboarding&#x20;Path&#x20;DB&#x20;&#x28;CapeControl&#x29;"><node ID="2" TEXT="Onboarding&#x20;Flow"><node ID="3" TEXT="Entry&#x20;Points"><node ID="4" TEXT="First&#x20;Login"></node><node ID="5" TEXT="New&#x20;Registration"></node><node ID="6" TEXT="Returning&#x20;&#x28;Incomplete&#x20;Onboarding&#x29;"></node></node><node ID="7" TEXT="Welcome&#x20;Layer"><node ID="8" TEXT="Warm&#x20;Greeting&#x20;+&#x20;Value&#x20;Promise"></node><node ID="9" TEXT="Optional&#x20;CapeAI&#x20;Guide&#x20;Toggle"></node><node ID="10" TEXT="CTAs"><node ID="11" TEXT="Start&#x20;Setup"></node><node ID="12" TEXT="Explore&#x20;Quietly&#x20;&#x28;Read-Only&#x29;"></node><node ID="13" TEXT="Tell&#x20;Me&#x20;What&#x20;You&#x20;Need&#x20;&#x28;CapeAI&#x29;"></node></node><node ID="14" TEXT="Data&#x20;Captured"><node ID="15" TEXT="started_at"></node><node ID="16" TEXT="welcome_seen"></node><node ID="17" TEXT="guide_enabled"></node></node></node><node ID="18" TEXT="Profile&#x20;Setup"><node ID="19" TEXT="Role&#x20;Selection"><node ID="20" TEXT="Individual"></node><node ID="21" TEXT="Team&#x20;Lead"></node><node ID="22" TEXT="Ops&#x20;/&#x20;Compliance"></node><node ID="23" TEXT="Developer"></node></node><node ID="24" TEXT="Org&#x20;Context&#x20;&#x28;Optional&#x29;"><node ID="25" TEXT="company_name"></node><node ID="26" TEXT="industry"></node><node ID="27" TEXT="team_size"></node></node><node ID="28" TEXT="Goals"><node ID="29" TEXT="Primary&#x20;Outcome"></node><node ID="30" TEXT="Time&#x20;Saved&#x20;Target&#x20;&#x28;north-star&#x29;"></node></node><node ID="31" TEXT="Preferences"><node ID="32" TEXT="timezone"></node><node ID="33" TEXT="notification_settings"></node><node ID="34" TEXT="accessibility"></node></node></node><node ID="35" TEXT="Action-Based&#x20;Onboarding"><node ID="36" TEXT="Smart&#x20;Checklist"><node ID="37" TEXT="Task&#x20;Buckets"><node ID="38" TEXT="Connect&#x20;Data"></node><node ID="39" TEXT="Create&#x20;First&#x20;Project"></node><node ID="40" TEXT="Invite&#x20;Teammate"></node><node ID="41" TEXT="Run&#x20;First&#x20;Agent"></node></node><node ID="42" TEXT="Progress&#x20;Bar&#x20;+&#x20;Micro-Wins"></node><node ID="43" TEXT="Skip&#x20;/&#x20;Defer&#x20;With&#x20;Reason"></node></node><node ID="44" TEXT="Evidence&#x20;Hooks"><node ID="45" TEXT="Log&#x20;each&#x20;completion&#x20;event"></node><node ID="46" TEXT="Capture&#x20;minimal&#x20;evidence&#x20;payload"></node></node></node><node ID="47" TEXT="Relationship&#x20;Messaging&#x20;System"><node ID="48" TEXT="Context&#x20;Nudges"><node ID="49" TEXT="Reminder"></node><node ID="50" TEXT="Tip"></node><node ID="51" TEXT="Celebration"></node><node ID="52" TEXT="Trust&#x20;Reassurance"></node></node><node ID="53" TEXT="In-App&#x20;Preferred&#x3B;&#x20;Email&#x20;Optional"></node></node><node ID="54" TEXT="Trust&#x20;Signals"><node ID="55" TEXT="Privacy&#x20;Assurance"></node><node ID="56" TEXT="Security&#x20;Posture&#x20;&#x28;High-level&#x29;"></node><node ID="57" TEXT="Testimonials&#x20;/&#x20;Social&#x20;Proof"></node><node ID="58" TEXT="Data&#x20;Ownership&#x20;/&#x20;Export"></node><node ID="59" TEXT="Explainable&#x20;Actions&#x20;&#x28;What&#x20;CapeAI&#x20;Did&#x29;"></node></node><node ID="60" TEXT="Completion"><node ID="61" TEXT="onboarding_completed&#x3D;true"></node><node ID="62" TEXT="completed_at"></node><node ID="63" TEXT="handoff_to_dashboard"></node></node></node><node ID="64" TEXT="Database&#x20;Design"><node ID="65" TEXT="Tables"><node ID="66" TEXT="users&#x20;&#x28;existing&#x29;"></node><node ID="67" TEXT="user_profile"><node ID="68" TEXT="user_id&#x20;&#x28;PK/FK&#x29;"></node><node ID="69" TEXT="role"></node><node ID="70" TEXT="company_name"></node><node ID="71" TEXT="timezone"></node><node ID="72" TEXT="goals_json"></node><node ID="73" TEXT="preferences_json"></node><node ID="74" TEXT="created_at&#x20;/&#x20;updated_at"></node></node><node ID="75" TEXT="onboarding_sessions"><node ID="76" TEXT="id&#x20;&#x28;PK&#x29;"></node><node ID="77" TEXT="user_id&#x20;&#x28;FK&#x29;"></node><node ID="78" TEXT="status&#x20;&#x28;active&#x7C;completed&#x7C;abandoned&#x29;"></node><node ID="79" TEXT="version"></node><node ID="80" TEXT="started_at"></node><node ID="81" TEXT="last_step_key"></node><node ID="82" TEXT="completed_at"></node><node ID="83" TEXT="metadata_json"></node></node><node ID="84" TEXT="onboarding_steps&#x20;&#x28;catalog&#x29;"><node ID="85" TEXT="id&#x20;&#x28;PK&#x29;"></node><node ID="86" TEXT="step_key&#x20;&#x28;unique&#x29;"></node><node ID="87" TEXT="title"></node><node ID="88" TEXT="order_index"></node><node ID="89" TEXT="required&#x20;&#x28;bool&#x29;"></node><node ID="90" TEXT="role_scope_json"></node></node><node ID="91" TEXT="user_onboarding_step_state"><node ID="92" TEXT="id&#x20;&#x28;PK&#x29;"></node><node ID="93" TEXT="session_id&#x20;&#x28;FK&#x29;"></node><node ID="94" TEXT="step_key"></node><node ID="95" TEXT="status&#x20;&#x28;not_started&#x7C;in_progress&#x7C;done&#x7C;skipped&#x29;"></node><node ID="96" TEXT="started_at"></node><node ID="97" TEXT="completed_at"></node><node ID="98" TEXT="data_json"></node><node ID="99" TEXT="evidence_json"></node></node><node ID="100" TEXT="onboarding_messages"><node ID="101" TEXT="id&#x20;&#x28;PK&#x29;"></node><node ID="102" TEXT="user_id&#x20;&#x28;FK&#x29;"></node><node ID="103" TEXT="session_id&#x20;&#x28;FK&#x29;"></node><node ID="104" TEXT="type&#x20;&#x28;reminder&#x7C;tip&#x7C;celebration&#x7C;trust&#x29;"></node><node ID="105" TEXT="channel&#x20;&#x28;in_app&#x7C;email&#x29;"></node><node ID="106" TEXT="template_key"></node><node ID="107" TEXT="payload_json"></node><node ID="108" TEXT="scheduled_for"></node><node ID="109" TEXT="sent_at"></node><node ID="110" TEXT="status"></node></node><node ID="111" TEXT="trust_acknowledgements"><node ID="112" TEXT="id&#x20;&#x28;PK&#x29;"></node><node ID="113" TEXT="user_id&#x20;&#x28;FK&#x29;"></node><node ID="114" TEXT="session_id&#x20;&#x28;FK&#x29;"></node><node ID="115" TEXT="key&#x20;&#x28;privacy&#x7C;security&#x7C;terms&#x29;"></node><node ID="116" TEXT="accepted_at"></node><node ID="117" TEXT="metadata_json"></node></node><node ID="118" TEXT="onboarding_event_log"><node ID="119" TEXT="id&#x20;&#x28;PK&#x29;"></node><node ID="120" TEXT="user_id&#x20;&#x28;FK&#x29;"></node><node ID="121" TEXT="session_id&#x20;&#x28;FK&#x29;"></node><node ID="122" TEXT="event_type"></node><node ID="123" TEXT="payload_json"></node><node ID="124" TEXT="created_at"></node></node></node><node ID="125" TEXT="Indexes&#x20;&#x26;&#x20;Constraints"><node ID="126" TEXT="onboarding_sessions&#x3A;&#x20;&#x28;user_id&#x2C;&#x20;status&#x29;"></node><node ID="127" TEXT="user_onboarding_step_state&#x3A;&#x20;&#x28;session_id&#x2C;&#x20;step_key&#x29;&#x20;unique"></node><node ID="128" TEXT="onboarding_steps&#x3A;&#x20;step_key&#x20;unique"></node></node><node ID="129" TEXT="Enum&#x20;Values"><node ID="130" TEXT="session.status&#x3A;&#x20;active&#x2C;&#x20;completed&#x2C;&#x20;abandoned"></node><node ID="131" TEXT="step_state.status&#x3A;&#x20;not_started&#x2C;&#x20;in_progress&#x2C;&#x20;done&#x2C;&#x20;skipped"></node><node ID="132" TEXT="message.type&#x3A;&#x20;reminder&#x2C;&#x20;tip&#x2C;&#x20;celebration&#x2C;&#x20;trust"></node><node ID="133" TEXT="message.channel&#x3A;&#x20;in_app&#x2C;&#x20;email"></node></node><node ID="134" TEXT="Migration&#x20;Notes"><node ID="135" TEXT="Add&#x20;tables&#x20;without&#x20;breaking&#x20;existing&#x20;auth"></node><node ID="136" TEXT="Seed&#x20;onboarding_steps&#x20;catalog"></node><node ID="137" TEXT="Backfill&#x20;user_profile&#x20;lazily&#x20;on&#x20;first&#x20;login"></node></node></node><node ID="138" TEXT="API&#x20;Contract"><node ID="139" TEXT="Core&#x20;Endpoints"><node ID="140" TEXT="GET&#x20;/api/onboarding/status"></node><node ID="141" TEXT="POST&#x20;/api/onboarding/start"></node><node ID="142" TEXT="PATCH&#x20;/api/onboarding/profile"></node><node ID="143" TEXT="GET&#x20;/api/onboarding/steps"></node><node ID="144" TEXT="POST&#x20;/api/onboarding/steps/&#x7B;step_key&#x7D;/complete"></node><node ID="145" TEXT="POST&#x20;/api/onboarding/steps/&#x7B;step_key&#x7D;/skip"></node><node ID="146" TEXT="POST&#x20;/api/onboarding/trust/&#x7B;key&#x7D;/ack"></node><node ID="147" TEXT="POST&#x20;/api/onboarding/complete"></node></node><node ID="148" TEXT="Auth&#x20;&#x26;&#x20;Security"><node ID="149" TEXT="JWT&#x20;required&#x20;&#x28;user&#x29;"></node><node ID="150" TEXT="CSRF&#x20;policy&#x20;consistent&#x20;with&#x20;existing&#x20;app"></node><node ID="151" TEXT="Audit&#x20;log&#x20;every&#x20;state&#x20;transition"></node></node><node ID="152" TEXT="Response&#x20;Shapes"><node ID="153" TEXT="status&#x3A;&#x20;&#x7B;session&#x2C;&#x20;steps&#x2C;&#x20;progress&#x7D;"></node><node ID="154" TEXT="errors&#x3A;&#x20;use&#x20;error&#x20;envelope&#x20;standard"></node></node></node><node ID="155" TEXT="Frontend&#x20;UX"><node ID="156" TEXT="Routes"><node ID="157" TEXT="/onboarding/welcome"></node><node ID="158" TEXT="/onboarding/profile"></node><node ID="159" TEXT="/onboarding/checklist"></node><node ID="160" TEXT="/onboarding/trust"></node><node ID="161" TEXT="/dashboard"></node></node><node ID="162" TEXT="Components"><node ID="163" TEXT="CapeAIButton&#x20;&#x28;persistent&#x29;"></node><node ID="164" TEXT="ProgressBar"></node><node ID="165" TEXT="ChecklistCard"></node><node ID="166" TEXT="TrustSignalPanel"></node><node ID="167" TEXT="NudgeToast"></node></node><node ID="168" TEXT="State"><node ID="169" TEXT="Load&#x20;onboarding&#x20;status&#x20;on&#x20;app&#x20;boot"></node><node ID="170" TEXT="Route&#x20;guard&#x3A;&#x20;redirect&#x20;until&#x20;completed&#x20;&#x28;configurable&#x29;"></node></node></node><node ID="171" TEXT="Governance&#x20;&#x26;&#x20;Verification"><node ID="172" TEXT="Environments"><node ID="173" TEXT="autorisen&#x20;only&#x20;&#x28;staging/sandbox&#x29;"></node><node ID="174" TEXT="No&#x20;production&#x20;deploy&#x20;unless&#x20;Robert&#x20;explicitly&#x20;instructs"></node></node><node ID="175" TEXT="Evidence&#x20;Pack"><node ID="176" TEXT="DB&#x20;migration&#x20;diff"></node><node ID="177" TEXT="API&#x20;contract&#x20;tests"></node><node ID="178" TEXT="UI&#x20;screenshots&#x20;&#x28;desktop&#x20;+&#x20;mobile&#x29;"></node></node></node></node></map>
docs/capecontrol-agents-system.mup:1328:                      "title": "Alembic migrations",
docs/deployment-environments.md:153:1. Test migrations locally first
docs/deployment-environments.md:154:1. Apply to staging via `heroku run --app autorisen "alembic upgrade head"`
docs/deployment-environments.md:156:1. Apply to production via `heroku run --app capecraft "alembic upgrade head"`
docs/PROJECT_PLAYBOOK_TRACKER.csv:20:DEVOPS-004,Database migrations,devops,completed,P1,2025-11-07,Alembic migrations with Heroku release phase,backend/migrations/* Procfile,heroku run python -m alembic upgrade head
docs/PROJECT_PLAYBOOK_TRACKER.csv:27:CHAT-002,Agent registry database schema,backend,completed,P0,2025-11-08,Agent + AgentVersion schema validated with unique constraints and cascade tests,"backend/migrations/versions/dc4ac5c9c3d5_add_agents_registry_tables.py; tests/test_agent_registry_schema.py",pytest tests/test_agent_registry_schema.py
docs/PROJECT_PLAYBOOK_TRACKER.csv:38:PAY-004,Payments DB schema,backend,todo,P0,PAY-001,transactions/invoices tables,backend/migrations/versions/*,alembic upgrade head
docs/codex/AgentDeveloperCodex.md:3:**Objective:** Complete Phase 2 (Core Execution) implementation by finishing the Task execution system, creating database migrations, and implementing the first prototype agent.
docs/codex/AgentDeveloperCodex.md:15:2. `ALEMBIC_DATABASE_URL="postgresql://devuser:devpass@localhost:5433/devdb" DB_SSLMODE_REQUIRE=0 python -m alembic revision --autogenerate -m "add_task_execution_system"`
docs/codex/AgentDeveloperCodex.md:16:3. `ALEMBIC_DATABASE_URL="postgresql://devuser:devpass@localhost:5433/devdb" DB_SSLMODE_REQUIRE=0 python -m alembic upgrade head`
docs/codex/AgentDeveloperCodex.md:23:- ๐ `backend/migrations/versions/[new]_add_task_execution_system.py` (create via alembic)
docs/codex/AgentDeveloperCodex.md:26:- Database migration applies successfully
docs/codex/AgentDeveloperCodex.md:80:# Generate and apply migration
docs/codex/AgentDeveloperCodex.md:84:python -m alembic revision --autogenerate -m "add_task_execution_system"
docs/codex/AgentDeveloperCodex.md:88:python -m alembic upgrade head
docs/codex/AgentDeveloperCodex.md:167:- `backend/migrations/versions/` (new migrations only)
docs/codex/AgentDeveloperCodex.md:180:- [ ] Database migration applies without errors
docs/capecontrol-agents-system-fixed.mup:1328:                      "title": "Alembic migrations",
docs/PROJECT_STATUS_SUMMARY_NOV2025.md:57:- Database migrations applied: invoices, transactions, payment_methods
docs/PROJECT_STATUS_SUMMARY_NOV2025.md:110:- **Database**: PostgreSQL with Alembic migrations โ Stable
docs/DEPLOYMENT_CHECKLIST_251107.md:117:   - Runs database migrations if needed
docs/project-plan.csv:2:DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,"Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.",docs/SYSTEM_SPEC.md,"Manual review: confirm no code/migrations/deploys"
docs/project-plan.csv:11:SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.",docs/SYSTEM_SPEC.md,"Doc review"
docs/project-plan.csv:17:DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.",docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,"Doc review"
docs/capecontrol-agents-system.mm:378:          <node CREATED="1699747200000" MODIFIED="1699747200000" TEXT="Alembic migrations"/>
docs/evidence/WO-OPS-REPO-HYGIENE-001/54_full_diff_final.patch:3911:-DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,"Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.",docs/SYSTEM_SPEC.md,"Manual review: confirm no code/migrations/deploys"
docs/evidence/WO-OPS-REPO-HYGIENE-001/54_full_diff_final.patch:3922:-SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.",docs/SYSTEM_SPEC.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/54_full_diff_final.patch:3932:-DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.",docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/54_full_diff_final.patch:3951:+DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.,docs/SYSTEM_SPEC.md,Manual review: confirm no code/migrations/deploys
docs/evidence/WO-OPS-REPO-HYGIENE-001/54_full_diff_final.patch:3960:+SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.,docs/SYSTEM_SPEC.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/54_full_diff_final.patch:3966:+DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.,docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_repair.patch:14:-DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,"Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.",docs/SYSTEM_SPEC.md,"Manual review: confirm no code/migrations/deploys"
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_repair.patch:25:-SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.",docs/SYSTEM_SPEC.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_repair.patch:35:-DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.",docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_repair.patch:54:+DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.,docs/SYSTEM_SPEC.md,Manual review: confirm no code/migrations/deploys
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_repair.patch:63:+SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.,docs/SYSTEM_SPEC.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_repair.patch:69:+DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.,docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/30_deps_patch.patch:112:-DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,"Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.",docs/SYSTEM_SPEC.md,"Manual review: confirm no code/migrations/deploys"
docs/evidence/WO-OPS-REPO-HYGIENE-001/30_deps_patch.patch:123:-SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.",docs/SYSTEM_SPEC.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/30_deps_patch.patch:133:-DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.",docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/30_deps_patch.patch:152:+DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.,docs/SYSTEM_SPEC.md,Manual review: confirm no code/migrations/deploys
docs/evidence/WO-OPS-REPO-HYGIENE-001/30_deps_patch.patch:161:+SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.,docs/SYSTEM_SPEC.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/30_deps_patch.patch:167:+DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.,docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_before.csv:9:DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,"Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.",docs/SYSTEM_SPEC.md,"Manual review: confirm no code/migrations/deploys"
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_before.csv:20:SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.",docs/SYSTEM_SPEC.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_before.csv:30:DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.",docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_failed_raw.csv:9:DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,"Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.",docs/SYSTEM_SPEC.md,"Manual review: confirm no code/migrations/deploys"
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_failed_raw.csv:20:SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.",docs/SYSTEM_SPEC.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_failed_raw.csv:30:DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.",docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,"Doc review"
docs/agents/ARCHITECTURE_BLUEPRINT.md:424:  * PostgreSQL schema setup with migrations
docs/agents/ARCHITECTURE_BLUEPRINT.md:497:alembic upgrade head
docs/agents/ARCHITECTURE_BLUEPRINT.md:554:* Database migration scripts with proper indexing strategy  
docs/PROJECT_OVERVIEW.md:23:- **Next**: codify migration/guard in repo and reconcile Alembic stamping before trusting migrations again
docs/evidence/WO-OPS-REPO-HYGIENE-001/03_before_git_clean_ndX.txt:9:Would remove backend/migrations/__pycache__/
docs/evidence/WO-OPS-REPO-HYGIENE-001/03_before_git_clean_ndX.txt:10:Would remove backend/migrations/versions/__pycache__/
docs/MAKE_TARGETS.md:13:| `codex-agent-dev` | Run the AgentDeveloper Phase 2 workflow (DB migrations + tests). |
docs/MAKE_TARGETS.md:37:| `deploy-heroku` | Build, push, and release containers to staging and production with retries, migrations, and health checks. |
docs/MAKE_TARGETS.md:60:| `heroku-run-migrate` | Run Alembic upgrade head on the Heroku app. |
docs/MAKE_TARGETS.md:66:| `migrate-up` | Apply migrations locally via Alembic upgrade head. |
docs/tasks_export.csv:8:M6,ECS minimal migration proposal,infra lead,2025-09-29,2025-10-06,Cost estimate + rollback plan,todo
docs/evidence/WO-OPS-REPO-HYGIENE-001/46_compose_build_final.txt:612:#11 17.06 Collecting alembic>=1.13 (from -r requirements.txt (line 7))
docs/evidence/WO-OPS-REPO-HYGIENE-001/46_compose_build_final.txt:613:#11 17.23   Downloading alembic-1.18.4-py3-none-any.whl.metadata (7.2 kB)
docs/evidence/WO-OPS-REPO-HYGIENE-001/46_compose_build_final.txt:672:#11 44.78 Collecting Mako (from alembic>=1.13->-r requirements.txt (line 7))
docs/evidence/WO-OPS-REPO-HYGIENE-001/46_compose_build_final.txt:738:#11 74.89 Collecting MarkupSafe>=0.9.2 (from Mako->alembic>=1.13->-r requirements.txt (line 7))
docs/evidence/WO-OPS-REPO-HYGIENE-001/46_compose_build_final.txt:748:#11 83.65 Downloading alembic-1.18.4-py3-none-any.whl (263 kB)
docs/evidence/WO-OPS-REPO-HYGIENE-001/46_compose_build_final.txt:821:#11 113.0 Installing collected packages: sortedcontainers, passlib, wrapt, websockets, uvloop, typing-extensions, tqdm, sniffio, six, semver, pyyaml, python-multipart, python-dotenv, PyJWT, pygments, pycparser, pyasn1, psycopg2-binary, psycopg-binary, pluggy, packaging, MarkupSafe, jiter, iniconfig, idna, httptools, h11, greenlet, docstring-parser, dnspython, distro, click, certifi, bcrypt, attrs, asgiref, annotated-types, annotated-doc, uvicorn, typing-inspection, SQLAlchemy, rsa, pytest, pydantic-core, psycopg, outcome, Mako, httpcore, gunicorn, email-validator, ecdsa, deprecated, cffi, anyio, watchfiles, trio, starlette, python-jose, pytest-asyncio, pydantic, limits, httpx, cryptography, alembic, slowapi, pytest-trio, pydantic-settings, openai, fastapi, anthropic
docs/evidence/WO-OPS-REPO-HYGIENE-001/46_compose_build_final.txt:823:#11 121.9 Successfully installed Mako-1.3.10 MarkupSafe-3.0.3 PyJWT-2.11.0 SQLAlchemy-2.0.46 alembic-1.18.4 annotated-doc-0.0.4 annotated-types-0.7.0 anthropic-0.79.0 anyio-4.12.1 asgiref-3.11.1 attrs-25.4.0 bcrypt-5.0.0 certifi-2026.1.4 cffi-2.0.0 click-8.3.1 cryptography-46.0.5 deprecated-1.3.1 distro-1.9.0 dnspython-2.8.0 docstring-parser-0.17.0 ecdsa-0.19.1 email-validator-2.3.0 fastapi-0.128.8 greenlet-3.3.1 gunicorn-25.0.3 h11-0.16.0 httpcore-1.0.9 httptools-0.7.1 httpx-0.28.1 idna-3.11 iniconfig-2.3.0 jiter-0.13.0 limits-5.8.0 openai-2.20.0 outcome-1.3.0.post0 packaging-26.0 passlib-1.7.4 pluggy-1.6.0 psycopg-3.3.2 psycopg-binary-3.3.2 psycopg2-binary-2.9.11 pyasn1-0.6.2 pycparser-3.0 pydantic-2.12.5 pydantic-core-2.41.5 pydantic-settings-2.12.0 pygments-2.19.2 pytest-9.0.2 pytest-asyncio-1.3.0 pytest-trio-0.8.0 python-dotenv-1.2.1 python-jose-3.5.0 python-multipart-0.0.22 pyyaml-6.0.3 rsa-4.9.1 semver-3.0.4 six-1.17.0 slowapi-0.1.9 sniffio-1.3.1 sortedcontainers-2.4.0 starlette-0.52.1 tqdm-4.67.3 trio-0.32.0 typing-extensions-4.15.0 typing-inspection-0.4.2 uvicorn-0.40.0 uvloop-0.22.1 watchfiles-1.1.1 websockets-16.0 wrapt-2.1.1
docs/playbooks/playbook-10-api-documentation-system.md:15:- API versioning documentation and migration guides
docs/playbooks/playbook-10-api-documentation-system.md:107:- [ ] Add changelog and migration guides
docs/evidence/WO-OPS-REPO-HYGIENE-001/01_before_du.txt:21:392K	./backend/migrations
docs/evidence/WO-OPS-REPO-HYGIENE-001/15_clean_dryrun_ignored.txt:9:Would remove backend/migrations/__pycache__/
docs/evidence/WO-OPS-REPO-HYGIENE-001/15_clean_dryrun_ignored.txt:10:Would remove backend/migrations/versions/__pycache__/
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_after_row.csv:2:DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.,docs/SYSTEM_SPEC.md,Manual review: confirm no code/migrations/deploys
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_after_row.csv:11:SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.,docs/SYSTEM_SPEC.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_after_row.csv:17:DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.,docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/19_after_du.txt:26:188K	./backend/migrations
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_row.patch:14:-DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,"Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.",docs/SYSTEM_SPEC.md,"Manual review: confirm no code/migrations/deploys"
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_row.patch:25:-SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.",docs/SYSTEM_SPEC.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_row.patch:35:-DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,"Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.",docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,"Doc review"
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_row.patch:54:+DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.,docs/SYSTEM_SPEC.md,Manual review: confirm no code/migrations/deploys
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_row.patch:63:+SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.,docs/SYSTEM_SPEC.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/SSOT_diff_after_row.patch:69:+DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.,docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,Doc review
docs/playbooks/devops_playbook.md:15:- Validate migrations locally and in staging before deployment.
docs/playbooks/playbook-08-payment-system-integration.md:12:- โ Database migration for payment tables deployed successfully
docs/playbooks/playbook-08-payment-system-integration.md:36:- โ Payment database migration applied (invoices, transactions, payment_methods)
docs/playbooks/playbook-08-payment-system-integration.md:62:- Database migration 64e4d0a224d9_add_payment_tables.py โ Ready
docs/playbooks/playbook-08-payment-system-integration.md:72:- Deploy payment tables migration
docs/playbooks/playbook-08-payment-system-integration.md:94:- [ ] Run payment tables migration: `make heroku-run-migrate`
docs/playbooks/playbook-08-payment-system-integration.md:95:- [ ] Verify migration in staging: `make heroku-staging-logs`
docs/playbooks/playbook-08-payment-system-integration.md:96:- [ ] Test migration rollback capability
docs/playbooks/playbook-08-payment-system-integration.md:135:# Database migration
docs/playbooks/playbook-08-payment-system-integration.md:137:# Verify migration
docs/playbooks/playbook-08-payment-system-integration.md:181:- `backend/migrations/versions/64e4d0a224d9_add_payment_tables.py` (deploy)
docs/playbooks/PLAYBOOK_RELEASE_AND_DEPLOY.md:5:This playbook ensures deployments are controlled, reversible, and do not implicitly run migrations.
docs/playbooks/PLAYBOOK_RELEASE_AND_DEPLOY.md:16:- If a migration is involved: explicit approval exists and migration steps are separated from deploy.
docs/playbooks/PLAYBOOK_RELEASE_AND_DEPLOY.md:24:- Stop immediately if deploy would include implicit migrations.
docs/evidence/WO-OPS-REPO-HYGIENE-001/32_pip_install_requirements.txt:13:Collecting alembic>=1.13 (from -r /home/robert/Development/capecontrol/requirements.txt (line 7))
docs/evidence/WO-OPS-REPO-HYGIENE-001/32_pip_install_requirements.txt:14:  Downloading alembic-1.18.4-py3-none-any.whl.metadata (7.2 kB)
docs/evidence/WO-OPS-REPO-HYGIENE-001/32_pip_install_requirements.txt:64:Collecting Mako (from alembic>=1.13->-r /home/robert/Development/capecontrol/requirements.txt (line 7))
docs/evidence/WO-OPS-REPO-HYGIENE-001/32_pip_install_requirements.txt:118:Collecting MarkupSafe>=0.9.2 (from Mako->alembic>=1.13->-r /home/robert/Development/capecontrol/requirements.txt (line 7))
docs/evidence/WO-OPS-REPO-HYGIENE-001/32_pip_install_requirements.txt:128:Downloading alembic-1.18.4-py3-none-any.whl (263 kB)
docs/evidence/WO-OPS-REPO-HYGIENE-001/32_pip_install_requirements.txt:180:Installing collected packages: passlib, wrapt, websockets, uvloop, typing-extensions, tqdm, sniffio, six, semver, pyyaml, python-multipart, python-dotenv, PyJWT, pycparser, pyasn1, psycopg2-binary, psycopg-binary, MarkupSafe, jiter, idna, httptools, h11, gunicorn, greenlet, docstring-parser, dnspython, distro, click, certifi, bcrypt, annotated-types, annotated-doc, uvicorn, typing-inspection, SQLAlchemy, rsa, pydantic-core, psycopg, Mako, httpcore, email-validator, ecdsa, deprecated, cffi, anyio, watchfiles, starlette, python-jose, pydantic, limits, httpx, cryptography, alembic, slowapi, pydantic-settings, openai, fastapi, anthropic
docs/evidence/WO-OPS-REPO-HYGIENE-001/32_pip_install_requirements.txt:182:Successfully installed Mako-1.3.10 MarkupSafe-3.0.3 PyJWT-2.9.0 SQLAlchemy-2.0.46 alembic-1.18.4 annotated-doc-0.0.4 annotated-types-0.7.0 anthropic-0.79.0 anyio-4.12.1 bcrypt-5.0.0 certifi-2026.1.4 cffi-2.0.0 click-8.3.1 cryptography-46.0.5 deprecated-1.3.1 distro-1.9.0 dnspython-2.8.0 docstring-parser-0.17.0 ecdsa-0.19.1 email-validator-2.3.0 fastapi-0.128.8 greenlet-3.3.1 gunicorn-25.0.3 h11-0.16.0 httpcore-1.0.9 httptools-0.7.1 httpx-0.28.1 idna-3.11 jiter-0.13.0 limits-5.8.0 openai-2.20.0 passlib-1.7.4 psycopg-3.3.2 psycopg-binary-3.3.2 psycopg2-binary-2.9.11 pyasn1-0.6.2 pycparser-3.0 pydantic-2.12.5 pydantic-core-2.41.5 pydantic-settings-2.12.0 python-dotenv-1.2.1 python-jose-3.5.0 python-multipart-0.0.22 pyyaml-6.0.3 rsa-4.9.1 semver-3.0.4 six-1.17.0 slowapi-0.1.9 sniffio-1.3.1 starlette-0.52.1 tqdm-4.67.3 typing-extensions-4.15.0 typing-inspection-0.4.2 uvicorn-0.40.0 uvloop-0.22.1 watchfiles-1.1.1 websockets-16.0 wrapt-2.1.1
docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md:4:Define the authoritative, management-approved process for database schema changes in CapeControl MVP.
docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md:5:This playbook exists to enforce that migrations are explicit, reviewed, and never run implicitly.
docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md:14:- A migration plan exists (upgrade + rollback/downgrade where feasible).
docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md:15:- Explicit management approval is recorded for running migrations.
docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md:19:- Draft and review Alembic migration files (only as part of an approved engineering task).
docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md:20:- Update migration documentation and runbook steps.
docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md:21:- Validate migration safety in local/dev and test environments.
docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md:25:- Stop immediately if the migration would run implicitly on deploy.
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_after_repair.csv:2:DOCS-001,Derive downstream management artifacts from SYSTEM_SPEC,docs,done,P0,2026-01-06,Spec: SYSTEM_SPEC ยง1.1. Artifacts derive strictly from spec; no code changes.,docs/SYSTEM_SPEC.md,Manual review: confirm no code/migrations/deploys
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_after_repair.csv:11:SPEC-009,Define migration rules (approvals required; no implicit migrations),docs,planned,P0,,Spec: SYSTEM_SPEC ยง6.3 and ยง2.6.3. Establish management gate for migrations.,docs/SYSTEM_SPEC.md,Doc review
docs/evidence/WO-OPS-REPO-HYGIENE-001/project-plan_after_repair.csv:17:DB-002,Publish DB migrations playbook (approval gate; no manual prod changes),docs,planned,P0,,Spec: SYSTEM_SPEC ยง2.6.3 and ยง6.3. Playbook must not add new behavior.,docs/playbooks/PLAYBOOK_DB_MIGRATIONS.md,Doc review
docs/playbooks/playbook-02-backend-auth-security.md:47:* Base backend configuration (settings, DB models, Alembic migrations).
docs/playbooks/playbook-04-devops-cicd.md:36:* AWS ECS/Fargate migration (Phase 2).
docs/MVP_SCOPE.md:42:- Alembic migration sanity (PostgreSQL + Heroku)
docs/reports/PHASE_2_COMPLETE.md:46:- **Phase 2 Strategy**: Database migration, prototype creation, testing framework
docs/reports/PHASE_2_COMPLETE.md:116:- โ Database schema and migrations
docs/reports/CODEX_STATUS_REPORT.md:192:- โ **Database**: PostgreSQL with applied migrations
docs/reports/CODEX_STATUS_REPORT.md:214:- โ Database migrations applied
docs/reports/CODEX_STATUS_REPORT.md:288:โ   โโโ Database Persistence        โ PostgreSQL with migrations
