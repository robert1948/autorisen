# 250927

Yes. Let’s lock the MVP scope and start executing.

## MVP slice (what we’re shipping)

- Auth & Accounts: register, login, refresh, `/me`, basic security hardening.
- Org & Tenants: create org, add member, invite/accept.
- Agents Gateway: OpenAI adapter + `/ai/chat` (single-turn), usage metering hook.
- Orchestrator: `POST /flows/{name}/run` (short runs, idempotency), run status.
- Conversations: create thread, post message (no attachments yet).
- Knowledge Base: upload doc → background ingest → search (single space).
- Billing & Plans: Free + Pro; subscribe; webhook validation (credits optional).
- Frontend: login/register, protected routes, org management, simple chat UI,
  KB upload/search, plan management, basic design system (WCAG AA).
- DevOps/Obs: Docker Compose local, staging deploy (Autorisen), smoke checks,
  structured logs + request IDs.

## Critical path (do in this order)

1. AUTH-001→005
1. ORG-006→008 (depends on AUTH-004)
1. AIGW-009→011 (depends on AUTH-003)
1. ORCH-012→013 (depends on AIGW-011)
1. CONV-015→016 (depends on AUTH-004)
1. KB-018→020 (ingest → search)
1. BILL-027→028 (then BILL-030 to finalize tiers)
1. FE-003 (API client) → FE-004/005 (auth pages) → FE-006/007 (guarded routes,
   org UI) → FE-008/009/010 (chat + KB) → FE-012 (plans UI)
1. DEVOPS-033→034, OBS-036; add CSRF (SEC-001)

## Sprint 1 (1–2 weeks): get end-to-end working

- Backend: AUTH-001…004, ORG-006…007, AIGW-009…011, ORCH-012…013,
  CONV-015…016, KB-018…020, BILL-027…028.
- Frontend: FE-003…007, FE-008, FE-009.
- DevOps/Obs: DEVOPS-033…034, OBS-036.
- Security: SEC-001 CSRF rollout.

## Acceptance checks (Sprint 1)

- Sign up → login → create org → invite member → both can chat in an
    org-scoped thread.
- Upload doc → searchable within 60 seconds.
- Run simple flow via `/flows/demo/run` and see status in UI.
- Subscribe to Pro on staging; webhook confirms; Pro entitlements visible.
- p95 < 400 ms for simple API calls (auth/me, threads create).

## Sprint 2 (hardening + polish)

- FE: FE-010 search UI polish, FE-012 plans UI, onboarding checklist (FE-002).
- Security: SEC-003 field encryption (KMS), SEC-002 optional OAuth2.
- Billing: BILL-031 credits (optional if needed).
- Analytics: ANALYT-025→026 basic dashboards.
- Scale: SCALE-001 (load tests) against SLOs.
- Demo mode: DEMO-001/002.

## Do this now (copy/paste)

### 1) Add or replace the CSV plan in the repo

```bash
cp ~/Downloads/autorisen_project_plan.csv \
    /home/robert/Development/autolocal/docs/autorisen_project_plan.csv

git -C /home/robert/Development/autolocal add docs/autorisen_project_plan.csv
git -C /home/robert/Development/autolocal \
    commit -m "plan: MVP project plan (backend+frontend+vision)"
git -C /home/robert/Development/autolocal push
```text
### 2) Create sprint-1 branch and tag backlog

```bash
git -C /home/robert/Development/autolocal checkout -b sprint-1-mvp
```text
## Working protocol (so we “follow and update as work progresses”)

- When you start a task: set `status=busy`, `started_at=YYYY-MM-DD`.
- On PR merge: set `status=done`, `done_at=YYYY-MM-DD`, update `notes`.
- Keep a single file: `docs/autorisen_project_plan.csv` (no forks).
- Daily: run smoke locally then on staging.

## Smoke checks to wire into `make smoke`

- `GET /alive` (200), `GET /api/health` (200).
- Auth flow: register→login→/me (200).
- Orgs: create org, add member (200).
- AI chat: `/ai/chat` responds (<= 1.2s p95).
- KB: upload → search returns a known token.
- Billing: webhook signature verify (mock) returns 2xx.

If you want, I can immediately mark the Sprint-1 tasks as `busy`, assign owners
(backend/frontend/devops), and generate a `make smoke` target that runs these
checks.
