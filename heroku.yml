# Heroku Container Deployment Configuration
# Optimized for production deployment with security hardening

build:
  docker:
    web: Dockerfile

release:
  image: web
  command:
    - python -m alembic -c backend/alembic.ini upgrade head

run:
  web: bash -lc "gunicorn backend.src.app:app -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:$PORT --workers ${WEB_CONCURRENCY:-2} --worker-tmp-dir /dev/shm"
