import{r,u as y,j as e}from"./index-CabYQTHI.js";function _(){var x,m,h,g,u,p;const[a,v]=r.useState(null),[s,i]=r.useState(null),[f,b]=r.useState(!0),[l,c]=r.useState(!0),n=y();r.useEffect(()=>{(async()=>{try{const t=localStorage.getItem("token");if(!t){n("/login");return}const d=await fetch("/api/user/profile",{headers:{Authorization:`Bearer ${t}`}});if(d.ok){const o=await d.json();v(o),(o.role==="developer"||o.role==="DEVELOPER")&&await N(t)}else n("/login")}catch(t){console.error("Error fetching user data:",t),n("/login")}finally{b(!1)}})()},[n]);const N=async j=>{try{c(!0);const t=await fetch("/api/developer/earnings/summary",{headers:{Authorization:`Bearer ${j}`}});if(t.ok){const d=await t.json();i(d.data)}else console.warn("Could not fetch earnings data - using fallback"),i({total_earnings:{total_earned:{formatted:"$0.00"},pending_payout:{formatted:"$0.00"}},month_earnings:{formatted:"$0.00"},week_earnings:{formatted:"$0.00"},performance_overview:{total_customers:0,avg_transaction:{formatted:"$0.00"},satisfaction:0}})}catch(t){console.error("Error fetching earnings data:",t),i({total_earnings:{total_earned:{formatted:"$0.00"},pending_payout:{formatted:"$0.00"}},month_earnings:{formatted:"$0.00"},week_earnings:{formatted:"$0.00"},performance_overview:{total_customers:0,avg_transaction:{formatted:"$0.00"},satisfaction:0}})}finally{c(!1)}};return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading developer dashboard..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Developer Dashboard"}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Welcome back, ",(a==null?void 0:a.name)||(a==null?void 0:a.email)||"Developer","! Manage your AI agents and track your earnings."]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Earnings"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l?e.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-20 rounded"}):((m=(x=s==null?void 0:s.total_earnings)==null?void 0:x.total_earned)==null?void 0:m.formatted)||"$0.00"})]}),e.jsx("div",{className:"text-green-600 text-2xl",children:"üí∞"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:l?e.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"}):((h=s==null?void 0:s.month_earnings)==null?void 0:h.formatted)||"$0.00"})]}),e.jsx("div",{className:"text-blue-600 text-2xl",children:"üìà"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Pending Payout"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:l?e.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-16 rounded"}):((u=(g=s==null?void 0:s.total_earnings)==null?void 0:g.pending_payout)==null?void 0:u.formatted)||"$0.00"})]}),e.jsx("div",{className:"text-orange-600 text-2xl",children:"‚è≥"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Customers"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:l?e.jsx("div",{className:"animate-pulse bg-gray-200 h-6 w-12 rounded"}):((p=s==null?void 0:s.performance_overview)==null?void 0:p.total_customers)||0})]}),e.jsx("div",{className:"text-purple-600 text-2xl",children:"üë•"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"bg-green-500 rounded-full p-2 mr-3",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),e.jsx("h3",{className:"text-xl font-bold text-green-800",children:"Revenue Details"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-700 font-medium",children:"Revenue Share"}),e.jsx("p",{className:"text-green-600",children:"You earn 80% of every sale"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-700 font-medium",children:"Payout Schedule"}),e.jsx("p",{className:"text-blue-600",children:"Weekly automatic payouts"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-700 font-medium",children:"Next Payout"}),e.jsx("p",{className:"text-purple-600",children:s!=null&&s.next_payout?new Date(s.next_payout).toLocaleDateString():"TBD"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx("div",{className:"text-blue-600 text-3xl mb-4",children:"üõ†Ô∏è"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Create New Agent"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Build a new AI agent using our developer tools and templates."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx("div",{className:"text-green-600 text-3xl mb-4",children:"üìö"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Documentation"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Access comprehensive guides and API documentation."})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx("div",{className:"text-purple-600 text-3xl mb-4",children:"üè™"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Marketplace"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Publish and manage your agents in the marketplace."})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Getting Started"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[e.jsx("div",{className:"text-blue-600 text-2xl",children:"üìã"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Complete Your Developer Profile"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Add your portfolio, skills, and payment information to start earning."})]}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 ml-auto",children:"Complete Profile"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-gray-400 text-2xl",children:"üöÄ"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-500",children:"Create Your First Agent"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Use our SDK and templates to build your first AI agent."})]}),e.jsx("button",{className:"bg-gray-300 text-gray-500 px-4 py-2 rounded-lg cursor-not-allowed ml-auto",children:"Coming Soon"})]}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-gray-400 text-2xl",children:"üí≥"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-500",children:"Setup Payment Method"}),e.jsx("div",{className:"text-sm text-gray-400",children:"Configure how you'll receive payments from agent sales."})]}),e.jsx("button",{className:"bg-gray-300 text-gray-500 px-4 py-2 rounded-lg cursor-not-allowed ml-auto",children:"Coming Soon"})]})]})]})]})})}export{_ as default};
